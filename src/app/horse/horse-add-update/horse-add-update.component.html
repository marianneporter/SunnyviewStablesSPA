<app-nav></app-nav>
<h2>Add Horse</h2>
<mat-divider></mat-divider>
<div class="form-wrapper">

    <form class="form" 
          *ngIf="horseForm"
          novalidate
          [formGroup]="horseForm">
        <h3 class="sub-heading">
            Basic Details
        </h3>        
        <div class="main-controls">     
            <div class="form-control">
                <mat-form-field appearance="fill">
                    <mat-label>Name</mat-label>
                    <input formControlName="name" 
                            matInput>
                </mat-form-field>
            </div>

            <div class="form-control">
                <mat-form-field appearance="fill">
                    <mat-label>Date of Birth</mat-label>
                    <input matInput [matDatepicker]="picker"
                           formControlName="dob">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                  </mat-form-field>
            </div>
    
            <div class="form-control">
                <mat-form-field appearance="fill">
                    <mat-label>Sex</mat-label>
                    <mat-select formControlName="sex">
                        <mat-option *ngFor="let sex of sexes"
                            [value]="sex.value"> {{sex.name}}
                        </mat-option>
                    </mat-select>
                  </mat-form-field>
            </div>
            <div class="form-control">
                <mat-form-field appearance="fill">
                    <mat-label>Colour</mat-label>
                    <mat-select formControlName="colour">
                        <mat-option *ngFor="let colour of colours"
                                   [value]="colour.value"> {{colour.name}}
                        </mat-option>
                    </mat-select>
                  </mat-form-field>
            </div>
 
            <div class="form-control">
                <mat-form-field appearance="fill">
                    <mat-label>Height (hands)</mat-label>
                    <mat-select formControlName="height">
                        <mat-option *ngFor="let height of heights"
                                   [value]="height.value"> {{height.name}}
                        </mat-option>
                    </mat-select>
                  </mat-form-field>
            </div> 
        </div>
        <mat-divider></mat-divider>

        <div class="photo-controls"> 
            <label  for="photo" class="">Photo</label>
            <div class="">
                <input class="photo" 
                    type="file"                    
                    (change)="onPhotoAdded($event)">  
                <div class="" *ngIf="invalidPhoto">                           
                    Sorry! photo is not valid
                </div>  
            </div>
            <img class="small-photo"
                  [src]="previewPhoto"
                  [ngClass]="{'no-display': !previewPhoto }"
                  alt=""/>       
        </div>
        <mat-divider></mat-divider>
    
    </form>
    
</div>

<h4>Form values: {{ horseForm.value | json }}</h4>
<h4>height: {{horseForm.value.height}}</h4>

